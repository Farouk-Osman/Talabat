<!-- header.component.html -->
<header>
  <!-- First Line -->
  <div class="top-header">
    <div class="logo">Talabat</div>

    <div class="search-bar">
      <input type="text" placeholder="Search for products..." (keyup.enter)="onSearch($event)"/>
    </div>

    <div class="auth-links">
      @if (currentUser$ | async; as user) {
        <div class="user-menu">
          <a routerLink="/profile">{{ user.username || user.name }}</a>
          <button mat-button (click)="logout()">Logout</button>
        </div>
      } @else {
        <a routerLink="/login">Login</a>
        <a routerLink="/register">Register</a>
      }
      <a routerLink="/cart" class="cart-link">
        <mat-icon>shopping_cart</mat-icon>
        @if ((cartItems$ | async)?.length) {
          <span class="cart-badge">{{ (cartItems$ | async)?.length }}</span>
        }
      </a>
    </div>
  </div>

  <!-- Second Line -->
  <nav class="category-menu">
    @for (category of categoryList; track $index) {
      <li (click)="searchCategory(category._id)">
        <a >{{ category.name }}</a>
      </li>
    }
  </nav>
</header>
